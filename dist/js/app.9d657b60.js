(function(t){function e(e){for(var r,o,i=e[0],c=e[1],u=e[2],d=0,f=[];d<i.length;d++)o=i[d],s[o]&&f.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0d4c":function(t,e,n){},1249:function(t,e,n){},"1d2f":function(t,e,n){},"1e95":function(t,e,n){"use strict";var r=n("5b5e"),s=n.n(r);s.a},4988:function(t,e,n){"use strict";var r=n("9567"),s=n.n(r);s.a},"4e44":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("router-view")],1)},a=[],o=(n("8abd"),n("2877")),i={},c=Object(o["a"])(i,s,a,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:[t.lockState?"lock":null,"main"]},[n("transition",{attrs:{appear:"",name:"header"}},[n("keep-alive",[n("router-view",{staticClass:"main__header",attrs:{name:"header"}})],1)],1),n("transition",{attrs:{appear:"",name:"router"}},[n("keep-alive",[n("router-view",{staticClass:"main__display"})],1)],1)],1)},f=[],p=n("cebc"),_=n("2f62"),m={name:"Main",computed:Object(p["a"])({},Object(_["c"])(["products"]),{lockState:function(){return this.products.lockState}})},h=m,b=(n("e735"),Object(o["a"])(h,d,f,!1,null,"00a6ff20",null)),v=b.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticClass:"products-grid",attrs:{tag:"ul",name:"showResponse"},on:{"before-enter":function(e){return t.setCustomVariables(arguments)}}},[t.productsList.length>0?[t._l(t.productsList,function(e,r){return[n("li",{key:e.id,staticClass:"products-grid__cell",attrs:{"data-index":r}},[n("ProductItem",{scopedSlots:t._u([e.promo_buy_one_get_one_free?{key:"promotion",fn:function(){return[n("BaseRibbon",{attrs:{hasText:"promotion",hasPosition:"tr",hasColor:"79480B"}})]},proxy:!0}:null,{key:"image",fn:function(){return[n("img",{attrs:{src:e.image,alt:e.name}})]},proxy:!0},{key:"name",fn:function(){return[t._v(" "+t._s(e.name)+" ")]},proxy:!0},{key:"price",fn:function(){return[t._v(" "+t._s(t.$t("message.PRODUCT_PRICE_VALUE",{price:t.transformPrice(e.price)}))+" ")]},proxy:!0},{key:"action",fn:function(){return[n("BaseButton",{attrs:{hasLabel:t.checkOrderBasket(e.id)?t.$t("message.PRODUCT_REMOVE"):t.$t("message.PRODUCT_ADD"),isActive:t.checkOrderBasket(e.id),"data-id":e.id},on:{onClick:t.handleBasket}})]},proxy:!0}],null,!0)})],1)]})]:t._e()],2)},C=[],g=n("e814"),y=n.n(g),O=n("59ad"),w=n.n(O),P=(n("a481"),n("96cf"),n("3b8d")),x=n("75fc"),L=n("d225"),R=n("b0b4"),E=n("bd86"),$=n("bc3a"),B=n.n($),j=B.a.create({baseURL:"https://5c3c998d29429300143fe514.mockapi.io/api",timeout:3e4}),T=B.a.CancelToken,S=[],A=function t(){Object(L["a"])(this,t)};Object(E["a"])(A,"getProducts",function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.get("/v1/products",{cancelToken:new T(function(t){S.push(t)})});case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}());var U={namespaced:!0,state:{lockState:!1,response:[],order:[]},mutations:{fillResponse:function(t,e){t.response=e.response},fillOrder:function(t,e){t.order=e.order},setLockState:function(t,e){t.lockState=e.state}},actions:{getProducts:function(t,e){t.commit,t.rootState;return A.getProducts(e).then(function(t){return t||[]})},fillResponse:function(t,e){var n=t.commit;return n("fillResponse",e)},fillOrder:function(t,e){var n=t.commit;return n("fillOrder",e)},setLockState:function(t,e){var n=t.commit;return n("setLockState",e)}}};r["a"].use(_["a"]);var D=new _["a"].Store({modules:{products:U}}),I=function(){function t(){Object(L["a"])(this,t)}return Object(R["a"])(t,null,[{key:"add",value:function(t){var e=[].concat(Object(x["a"])(D.state.products.order),[D.state.products.response.filter(function(e){return e.id===t})[0]]);D.dispatch("products/fillOrder",{order:e})}},{key:"remove",value:function(t){var e=D.state.products.order.filter(function(e){return e.id!==t});D.dispatch("products/fillOrder",{order:e})}}]),t}(),V={name:"ProductsList",data:function(){return{delay:.2}},computed:Object(p["a"])({},Object(_["c"])(["products"]),{productsList:function(){return this.products.response},orderList:function(){return this.products.order}}),methods:Object(p["a"])({},Object(_["b"])("products",["getProducts","fillResponse"]),{getResponse:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProducts();case 2:e=t.sent,this.fillResponse({response:e});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),transformPrice:function(t){return w()(t).toFixed(2).replace(".",",")},handleBasket:function(t){var e=t.dataset.id;this.checkOrderBasket(e)?I.remove(e):I.add(e)},checkOrderBasket:function(t){return this.orderList.filter(function(e){return e.id===t}).length>0},setCustomVariables:function(t){var e=this,n=t[0].style;t[0]&&this.$nextTick(function(){n.setProperty("--animation-delay","".concat(e.delay*y()(t[0].dataset.index)+1,"s"))})}}),mounted:function(){this.getResponse()}},M=V,W=(n("8394"),Object(o["a"])(M,k,C,!1,null,"90f69258",null)),G=W.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header-basket"},[n("ul",{staticClass:"header-basket__content"},[n("li",[n("h1",{staticClass:"header-basket__title"},[t._v(t._s(t.$t("message.PAGE_TITLE")))])]),n("li",[n("UserBasket",{attrs:{items:t.orderList},on:{remove:t.removeItem},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          "+t._s(t.$t("message.BASKET_LABEL"))+"\n        ")]},proxy:!0}])})],1)])])},F=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"user-basket"},[n("ul",{staticClass:"user-basket__content"},[n("li",{staticClass:"user-basket__recap"},[n("button",{staticClass:"user-basket__items",attrs:{"aria-label":"open basket"},on:{click:t.handleCart}},[n("transition",{attrs:{mode:"out-in",name:"update-items"}},[n("span",{key:t.items.length},[t._v(t._s(t.items.length))])])],1),t.showCart?n("transition",{attrs:{appear:"",name:"showCart"}},[n("transition-group",{staticClass:"user-basket__cart",attrs:{tag:"ul",name:"showCart-row"}},[n("li",{key:"close",staticClass:"user-basket__cart-close"},[n("button",{attrs:{"aria-label":"close"},on:{click:t.handleCart}})]),t.items.length>0?[t._l(t.items,function(e,r){return[n("li",{key:e.id,staticClass:"user-basket__cart__row",attrs:{"data-index":r}},[n("CartRow",{scopedSlots:t._u([{key:"image",fn:function(){return[n("img",{attrs:{src:e.image,alt:e.name}})]},proxy:!0},{key:"name",fn:function(){return[t._v("\n                    "+t._s(e.name)+"\n                  ")]},proxy:!0},{key:"price",fn:function(){return[t._v("\n                    "+t._s(t.$t("message.PRODUCT_PRICE_VALUE",{price:t.transformPrice(e.price)}))+"\n                  ")]},proxy:!0},{key:"action",fn:function(){return[n("BaseButton",{attrs:{hasLabel:t.$t("message.BASKET_LABEL_REMOVE"),isActive:"","data-id":e.id},on:{onClick:t.removeItem}})]},proxy:!0}],null,!0)})],1)]}),[n("li",{key:"total",staticClass:"user-basket__cart__row",attrs:{"data-id":t.items.lenght}},[n("CartRow",{scopedSlots:t._u([{key:"totalLabel",fn:function(){return[t._v("\n                    Total\n                  ")]},proxy:!0},{key:"totalCount",fn:function(){return[t._v("\n                    "+t._s(t.$t("message.PRODUCT_PRICE_VALUE",{price:t.totalCount()}))+"\n                  ")]},proxy:!0}],null,!1,3568751911)})],1)]]:[n("li",{key:"no-items",staticClass:"user-basket__cart__row user-basket__cart__row--void"},[n("p",{staticClass:"user-basket__no-items"},[t._v("no items exist")])])]],2)],1):t._e()],1),this.$slots["label"]?n("li",{staticClass:"user-basket__label",domProps:{innerHTML:t._s(t.getContent("label"))}}):t._e()])])},J=[],q=(n("7f7f"),{name:"UserBasket",data:function(){return{showCart:!1}},props:{items:{type:Array,default:function(){return[]}}},methods:Object(p["a"])({},Object(_["b"])("products",["setLockState"]),{handleCart:function(){this.showCart=!this.showCart,this.getWindowWidth()<=680&&(this.showCart?this.setLockState({state:!0}):this.setLockState({state:!1}))},getContent:function(t){return this.$slots[t][0]["text"]},removeItem:function(t){this.$emit("remove",t)},transformPrice:function(t){return w()(t).toFixed(2).replace(".",",")},totalCount:function(){var t=this.items.map(function(t){return t.price});return t.reduce(function(t,e){return w()(t)+w()(e)},0).toFixed(2).replace(".",",")},getWindowWidth:function(){return window.innerWidth}})}),z=q,N=(n("9c35"),Object(o["a"])(z,H,J,!1,null,"4e094b14",null)),Q=N.exports,X={name:"HeaderBasket",components:{UserBasket:Q},computed:Object(p["a"])({},Object(_["c"])(["products"]),{orderList:function(){return this.products.order}}),methods:{removeItem:function(t){var e=t.dataset.id;I.remove(e)}}},Y=X,Z=(n("1e95"),Object(o["a"])(Y,K,F,!1,null,"0f695518",null)),tt=Z.exports,et=[{path:"",name:"index",component:v,redirect:{name:"ProductGrid"},children:[{path:"product-grid/:page?",name:"ProductGrid",components:{default:G,header:tt}}]}];r["a"].use(l["a"]);var nt=new l["a"]({mode:"history",routes:et}),rt=nt,st=n("1dce"),at=n.n(st),ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:["base-button",t.inProcess?"base-button--inProcess":null,t.isActive?"base-button--isActive":null],attrs:{disabled:t.isDisabled},on:{click:t.onClick}},[n("transition",{attrs:{appear:"",mode:"out-in",name:"change-label"},on:{"before-enter":function(e){return t.getLabelWidth(arguments)}}},[n("span",{key:t.hasLabel},[t._v(t._s(t.hasLabel))])])],1)},it=[],ct={name:"BaseButton",props:{hasLabel:{type:String,required:!0},isDisabled:{type:Boolean,default:!1},inProcess:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},methods:{onClick:function(t){this.$emit("onClick",t.target)},getLabelWidth:function(t){var e=this;t[0]&&this.$nextTick(function(){var n=e.$el.style;n.setProperty("--button-width","".concat(t[0].offsetWidth,"px"))})}}},ut=ct,lt=(n("ce0d"),Object(o["a"])(ut,ot,it,!1,null,"b5158cf0",null)),dt=lt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{class:["base-ribbon--"+t.hasPosition,"base-ribbon"]},[n("span",{staticClass:"base-ribbon__label"},[t._v(t._s(t.hasText))])])},pt=[],_t={name:"BaseRibbon",props:{hasText:{type:String},hasPosition:{type:String,default:"tl"},hasColor:{type:String,default:"000"}},methods:{setCustomVariable:function(){var t=this;this.$nextTick(function(){var e=t.$el.style;e.setProperty("--ribbon-color","#".concat(t.hasColor))})}},mounted:function(){this.setCustomVariable()}},mt=_t,ht=(n("c502"),Object(o["a"])(mt,ft,pt,!1,null,"5a271f64",null)),bt=ht.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"product-item"},[this.$slots["promotion"]?[t._t("promotion")]:t._e(),this.$slots["image"]?n("figure",{staticClass:"product-item__image"},[t._t("image")],2):t._e(),n("aside",{staticClass:"product-item__info"},[this.$slots["name"]?n("dl",{staticClass:"product-item__list"},[this.$slots["name"]?n("div",{staticClass:"product-item__row"},[n("dd",{staticClass:"product-item__key"},[n("h2",{staticClass:"product-item__name"},[t._t("name")],2)])]):t._e(),this.$slots["price"]?n("div",{staticClass:"product-item__row"},[n("dt",{staticClass:"product-item__label"},[t._v(t._s(t.$t("message.PRODUCT_PRICE_LABEL")))]),n("dd",{staticClass:"product-item__key"},[t._t("price")],2)]):t._e()]):t._e(),this.$slots["action"]?n("footer",{staticClass:"product-item__action"},[t._t("action")],2):t._e()])],2)},kt=[],Ct={name:"ProductItem"},gt=Ct,yt=(n("4988"),Object(o["a"])(gt,vt,kt,!1,null,"40673448",null)),Ot=yt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"cart-row"},[n("tr",[this.$slots["image"]?n("td",{staticClass:"cart-row__image"},[n("figure",[t._t("image")],2)]):t._e(),this.$slots["name"]?n("td",{staticClass:"cart-row__name"},[t._t("name")],2):t._e(),this.$slots["price"]?n("td",{staticClass:"cart-row__price"},[t._t("price")],2):t._e(),this.$slots["action"]?n("td",{staticClass:"cart-row__action"},[t._t("action")],2):t._e(),this.$slots["totalLabel"]?n("td",{staticClass:"cart-row__total-label"},[t._t("totalLabel")],2):t._e(),this.$slots["totalCount"]?n("td",{staticClass:"cart-row__total-count"},[t._t("totalCount")],2):t._e()])])},Pt=[],xt={name:"CartRow"},Lt=xt,Rt=(n("f889"),Object(o["a"])(Lt,wt,Pt,!1,null,"2beeefe2",null)),Et=Rt.exports;r["a"].component("BaseButton",dt),r["a"].component("BaseRibbon",bt),r["a"].component("ProductItem",Ot),r["a"].component("CartRow",Et);var $t=n("a925"),Bt={PAGE_TITLE:"2MLab",PRODUCT_PRICE_LABEL:"Price:",PRODUCT_PRICE_VALUE:"{price} euro",PRODUCT_ADD:"Add to basket",PRODUCT_REMOVE:"Remove from basket",BASKET_LABEL:"<p>Items in your basket<span>click to see the deatil</span></p>",BASKET_LABEL_REMOVE:"Remove"},jt={en:{message:Bt}};r["a"].use($t["a"]);var Tt=new $t["a"]({locale:"en",messages:jt});r["a"].config.productionTip=!1,r["a"].use(at.a),new r["a"]({router:rt,store:D,i18n:Tt,render:function(t){return t(u)}}).$mount("#app")},"5b5e":function(t,e,n){},"7f89":function(t,e,n){},8394:function(t,e,n){"use strict";var r=n("7f89"),s=n.n(r);s.a},"8abd":function(t,e,n){"use strict";var r=n("1249"),s=n.n(r);s.a},9567:function(t,e,n){},"9c35":function(t,e,n){"use strict";var r=n("0d4c"),s=n.n(r);s.a},b24d:function(t,e,n){},c502:function(t,e,n){"use strict";var r=n("b24d"),s=n.n(r);s.a},ce0d:function(t,e,n){"use strict";var r=n("f488"),s=n.n(r);s.a},e735:function(t,e,n){"use strict";var r=n("1d2f"),s=n.n(r);s.a},f488:function(t,e,n){},f889:function(t,e,n){"use strict";var r=n("4e44"),s=n.n(r);s.a}});
//# sourceMappingURL=app.9d657b60.js.map